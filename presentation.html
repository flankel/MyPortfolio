<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Presentation Viewer | Portfolio</title>
    <meta name="description" content="プレゼンテーション資料の詳細表示" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet"
    />

    <style>
        body {
            font-family: "Inter", "Noto Sans JP", sans-serif;
        }

        /* モバイルでの高さを確保 */
        .pdf-container {
            height: 60vh;
        }

        @media (min-width: 768px) {
            .pdf-container {
                height: auto;
                aspect-ratio: 16 / 9;
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 antialiased flex flex-col min-h-screen">
    <!-- ヘッダー -->
    <header class="bg-white border-b border-gray-100 sticky top-0 z-50 bg-white/90 backdrop-blur">
        <div class="max-w-7xl mx-auto px-6 h-16 flex justify-between items-center">
            <div class="font-bold text-xl tracking-tight">
                <a href="index.html" class="hover:text-indigo-600 transition">
                    Portfolio.
                </a>
            </div>

            <nav class="flex gap-4">
                <a
                    href="index.html"
                    class="flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-black transition"
                >
                    <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"
                        ></path>
                    </svg>
                    <span class="hidden md:inline">Back to Home</span>
                    <span class="md:hidden">Back</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="flex-grow py-8 md:py-12 px-4 md:px-6">
        <div class="max-w-5xl mx-auto">
            <!-- タイトルセクション -->
            <div class="mb-6 md:mb-8 text-center">
                <span
                    id="p-category"
                    class="text-indigo-600 font-bold tracking-widest text-xs uppercase mb-2 block"
                >
                    Category
                </span>

                <h1
                    id="p-title"
                    class="text-2xl md:text-4xl font-extrabold text-slate-900 mb-3 leading-tight"
                >
                    資料を読み込んでいます...
                </h1>

                <p
                    id="p-desc"
                    class="text-sm md:text-base text-slate-500 max-w-2xl mx-auto"
                ></p>
            </div>

            <!-- ビューワーカード -->
            <div
                class="bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden mb-8 md:mb-12"
            >
                <!-- スマホ向け案内 -->
                <div
                    class="md:hidden bg-indigo-50 px-4 py-3 text-center border-b border-indigo-100"
                >
                    <p class="text-xs text-indigo-800 font-bold mb-2">
                        スマホでうまく表示されない場合はこちら
                    </p>

                    <a
                        id="btn-mobile-open"
                        href=""
                        target="_blank"
                        class="inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-2 rounded-full text-sm font-bold hover:bg-indigo-700 transition w-full justify-center shadow-sm"
                    >
                        <svg
                            class="w-4 h-4"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                            ></path>
                        </svg>
                        PDFを全画面で開く
                    </a>
                </div>

                <!-- PDF埋め込み -->
                <div class="pdf-container w-full relative bg-slate-100">
                    <iframe
                        id="pdf-frame"
                        src=""
                        class="w-full h-full border-0"
                        allow="fullscreen"
                    ></iframe>
                </div>

                <!-- PC向けダウンロード -->
                <div
                    class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex flex-col md:flex-row justify-between items-center gap-4"
                >
                    <p class="text-xs text-slate-500 text-center md:text-left">
                        スライドが表示されない場合は、直接ファイルをダウンロードしてご覧ください。
                    </p>

                    <a
                        id="btn-download"
                        href=""
                        download
                        class="flex items-center gap-2 bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-lg text-sm font-bold hover:bg-slate-100 hover:text-black transition w-full md:w-auto justify-center"
                    >
                        <svg
                            class="w-4 h-4"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                            ></path>
                        </svg>
                        PDFをダウンロード
                    </a>
                </div>
            </div>

            <!-- 下部ナビ -->
            <div class="flex justify-center">
                <a
                    href="index.html#presentations"
                    class="inline-flex items-center gap-2 text-slate-500 hover:text-indigo-600 transition font-medium text-sm border border-slate-200 bg-white px-6 py-3 rounded-full shadow-sm hover:shadow-md"
                >
                    <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M11 17l-5-5m0 0l5-5m-5 5h12"
                        ></path>
                    </svg>
                    一覧に戻る
                </a>
            </div>
        </div>
    </main>

    <footer class="bg-slate-950 text-slate-600 py-8 text-center text-xs mt-auto">
        &copy; 2024 Portfolio. All Rights Reserved.
    </footer>

    <!-- データ制御スクリプト -->
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const presentationId = urlParams.get("id");

        // 資料データ定義
        const presentations = {
            "music-study": {
                title: "流麗な音楽スタディで目指せるスライド",
                category: "Music / Education",
                desc: "音楽をテーマにした魅力的で流麗なプレゼンテーションデザインについて。",
                pdfPath: "assets/music-study.pdf"
            },
            "future-of-education": {
                title: "未来の教育：パーソナライズされた学習体験のデザイン",
                category: "Education / AI",
                desc: "AIが個々に最適化する未来の教育システムを提案。",
                pdfPath: "assets/future-of-education.pdf"
            },
            "local-digital-marketing": {
                title: "地方創生と伝統工芸のデジタルマーケティング戦略",
                category: "Regional Revitalization / Marketing",
                desc: "伝統工芸をデジタルで世界に。成功戦略と具体的施策。",
                pdfPath: "assets/local-digital-marketing.pdf"
            },
            "space-business": {
                title: "宇宙ビジネスの新たなフロンティア：月面資源開発の可能性",
                category: "Space / Business",
                desc: "月面資源開発の技術、経済、国際協力の可能性を探る。",
                pdfPath: "assets/space-business.pdf"
            },
            "health-tech": {
                title: "ヘルステックの進化：予防医療と個別化された健康管理",
                category: "Medical / Healthcare",
                desc: "ウェアラブル、AI診断で実現する未来の医療システム。",
                pdfPath: "assets/health-tech.pdf"
            },
            "sustainable-fashion": {
                title: "サステナブルファッションの挑戦：循環型経済への転換",
                category: "Fashion / Sustainability",
                desc: "ファッション業界が持続可能なビジネスモデルへ。",
                pdfPath: "assets/sustainable-fashion.pdf"
            },
            "esports-social-impact": {
                title: "eスポーツの社会的影響：新たなキャリアとコミュニティ形成",
                category: "eSports / Society",
                desc: "eスポーツが若者に与える影響、キャリア、社会性。",
                pdfPath: "assets/esports-social-impact.pdf"
            },
            "smart-city-digital-twin": {
                title: "デジタルツインが拓くスマートシティの未来",
                category: "Urban Development / Technology",
                desc: "デジタルツインで都市を最適化。スマートシティの可能性。",
                pdfPath: "assets/smart-city-digital-twin.pdf"
            },
            "vr-cultural-understanding": {
                title: "異文化理解を深めるVR体験デザイン",
                category: "VR / Culture",
                desc: "VRで没入する異文化体験、教育・ビジネスへの応用。",
                pdfPath: "assets/vr-cultural-understanding.pdf"
            },
            "food-tech": {
                title: "フードテックの最前線：食糧危機と未来の食卓",
                category: "Food / Technology",
                desc: "代替肉、植物工場など、食糧危機を乗り越える技術。",
                pdfPath: "assets/food-tech.pdf"
            }
        };

        const data = presentations[presentationId];

        const titleEl = document.getElementById("p-title");
        const catEl = document.getElementById("p-category");
        const descEl = document.getElementById("p-desc");
        const frameEl = document.getElementById("pdf-frame");
        const downloadBtn = document.getElementById("btn-download");
        const mobileOpenBtn = document.getElementById("btn-mobile-open");

        if (data) {
            document.title = `${data.title} | Portfolio`;
            titleEl.textContent = data.title;
            catEl.textContent = data.category;
            descEl.textContent = data.desc;

            frameEl.src = data.pdfPath;
            downloadBtn.href = data.pdfPath;
            mobileOpenBtn.href = data.pdfPath;
        } else {
            titleEl.textContent = "資料が見つかりません";
            catEl.textContent = "Error";
            descEl.textContent = "URLが正しいかご確認ください。";
            downloadBtn.style.display = "none";
            mobileOpenBtn.style.display = "none";
        }
    </script>
</body>
</html>
